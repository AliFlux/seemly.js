/*! Minified. Generated on 2015-09-08 */
var Seemly=function(a){function b(a){if(1!=a.length)return"";for(var b,c=a;c.length;){var d=c[0],e=d.localName||d.tagName||d.nodeName;if(!e||"#document"==e)break;if(!e||"body"==e)break;if(e=e.toLowerCase(),d.id)return e+"#"+d.id+(b?">"+b:"");d.className&&(e+="."+d.className.split(/\s+/).join("."));var f=c.parent(),g=f.children(e);g.length>1&&(e+=":eq("+g.index(c)+")"),b=e+(b?">"+b:""),c=f}return b}function c(a,b){a.find("*[data-seemly-preloader-text]").each(function(){if(void 0==b)var a=this.getAttribute("data-seemly-preloader-text");else a="original"===b?$(this).data("original-text"):b;"input"==this.tagName.toLowerCase()?("original"!=b&&$(this).data("original-text",this.value),this.value=a):("original"!=b&&$(this).data("original-text",$(this).text()),$(this).text(a))})}function d(a,b){a.find("*[data-seemly-preloader-class]").each(function(){if(void 0==b)var a=this.getAttribute("data-seemly-preloader-class");else a=b;if("original"==b){var c=$(this).data("original-class")?$(this).data("original-class"):"";$(this).attr("class",c)}else $(this).data("original-class",$(this).attr("class")),$(this).addClass(a)})}var e=document.getElementsByTagName("script"),f=e[e.length-1];$(function(){var a=$(f);a.is("*[data-seemly-express]")&&($("form").attr("data-seemly",""),$("form input[type='submit']").attr("data-seemly-preloader-text","Loading..."),$("form button[type='submit']").attr("data-seemly-preloader-text","Loading..."),$("form .submit").attr("data-seemly-preloader-text","Loading...")),$("form[data-seemly]").each(function(){var a=$(this);a.data("cachedHTML",a.prop("outerHTML")),a.submit(function(){var a=$(this);a.data("path",b(a)),c(a),d(a);var e=new FormData(this);return $.ajax({url:a.attr("action"),type:a.attr("method"),data:e,context:a,dataType:"text",cache:!1,contentType:!1,processData:!1}).done(function(a,b,e){var f=$(this),g=f.attr("data-seemly"),h=f.data("path"),i=$("<span>"+a.replace("<body","<divbody").replace("</body>","</divbody>")+"</span>").find(h).get(0),j=$(f.data("cachedHTML")).get(0);if(void 0==g||""==g||"diff"==g){var k=new diffDOM,l=k.diff(j,i);k.apply(f.get(0),l),f.data("cachedHTML",f.prop("outerHTML"))}else"replace"==g&&f.replaceWith($(i));c(f,"original"),d(f,"original")}).fail(function(a,b){var e=$(this);c(e,a.statusText),d(e,"original")}).always(function(){$(this)}),!1})})})}(Seemly||{});